# Deck

Deckï¼ˆ/dÉ›k/ "ä»£å…‹"ï¼‰æ˜¯æ­å»ºå®¹å™¨åŒ–å¼€å‘ç¯å¢ƒçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ¨¡æ¿å¤ç”¨ï¼ŒåŠ©åŠ›å¼€å‘å¿«é€Ÿèµ·æ­¥

Deck é€šè¿‡æ¨¡æ¿ä¸ºå¼€å‘è€…æä¾›æ ‡å‡†åŒ–çš„å¼€å‘ç¯å¢ƒåŸºç¡€ï¼Œè®©æ‚¨ä¸“æ³¨äºä¸šåŠ¡å¼€å‘è€Œéç¯å¢ƒé…ç½®ã€‚

Deck .NET ç‰ˆåŸºäº .NET 9 æ„å»ºï¼ŒAOTï¼Œè·¨å¹³å°åŸç”Ÿæ€§èƒ½ï¼Œæ”¯æŒ Windowsã€macOS å’Œ Linux å¹³å°ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ”„ **æ¨¡æ¿å¤ç”¨** - é€šè¿‡ä»“åº“ç»´æŠ¤æ¨¡æ¿æ–‡ä»¶ï¼Œéœ€è¦æ­å»ºç¯å¢ƒæ—¶ä¸€ä¸ªå‘½ä»¤æ„å»ºå‡ºä¸€æ ·çš„ç¯å¢ƒ
- ğŸš€ **å¿«é€Ÿèµ·æ­¥** - ä»é›¶åˆ°è¿è¡Œå¼€å‘ç¯å¢ƒï¼Œåªéœ€ä¸€ä¸ª deck start å‘½ä»¤
- ğŸ“¦ **ç¯å¢ƒéš”ç¦»** - åŸºäºå®¹å™¨æŠ€æœ¯ï¼Œä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„å¼€å‘ç¯å¢ƒ
- ğŸŒ **è·¨å¹³å°** - æœ¬å·¥å…·æ”¯æŒ Windowsã€macOS å’Œ Linux å¹³å°ä½¿ç”¨
- âš¡ **åŸç”Ÿæ€§èƒ½** - æœ¬å·¥å…· AOT ç¼–è¯‘ï¼Œå¯åŠ¨è¿…é€Ÿï¼Œä½èµ„æºå ç”¨
- ğŸ› ï¸ **æ˜“æ‰©å±•** - æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿å’Œé¡¹ç›®ç‰¹å®šé…ç½®ï¼Œæ¨¡æ¿ä¸å·¥å…·å¯ç‹¬ç«‹ç»´æŠ¤

## ğŸ“¥ å®‰è£…

### ä¸‹è½½é¢„ç¼–è¯‘ç‰ˆæœ¬

ä» [Github Releases](https://github.com/chatterzhao/deck/releases)æˆ– [Gitee Releases](https://gitee.com/zhaoquan/deck/releases/) é¡µé¢ä¸‹è½½é€‚åˆæ‚¨ç³»ç»Ÿçš„ç‰ˆæœ¬ï¼š

- **Windows**: `deck-vX.X.X-win-x64.msi` æˆ– `deck-vX.X.X-win-arm64.msi`
- **Linux**: `deck-vX.X.X-linux-x64.deb` / `deck-vX.X.X-linux-x64.rpm` æˆ– ARM64 ç‰ˆæœ¬
- **macOS**: `deck-vX.X.X-osx-x64.pkg` æˆ– `deck-vX.X.X-osx-arm64.pkg`

### å®‰è£…æˆ–å¸è½½æ­¥éª¤

#### Windows
1. ä¸‹è½½ `.msi` å®‰è£…åŒ…
2. åŒå‡»è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰å‘å¯¼å®Œæˆå®‰è£…
3. å®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œ `deck --help` éªŒè¯
4. å¸è½½æ–¹æ³•ï¼šæ§åˆ¶é¢æ¿ â†’ ç¨‹åºå’ŒåŠŸèƒ½ â†’ æ‰¾åˆ° `Deck` å¹¶å¸è½½

#### macOS
1. ä¸‹è½½ `.pkg` å®‰è£…åŒ…
2. åŒå‡»è¿è¡Œå®‰è£…ç¨‹åºï¼ŒæŒ‰å‘å¯¼å®Œæˆå®‰è£…
3. å®‰è£…å®Œæˆåï¼Œåœ¨ç»ˆç«¯ä¸­è¿è¡Œ `deck --help` éªŒè¯
4. ç»ˆç«¯æ‰§è¡Œ`deck-uninstall`

#### Linux
1. ä¸‹è½½å¯¹åº”çš„ `.deb` æˆ– `.rpm` åŒ…
2. Ubuntu/Debian: `sudo dpkg -i deck-vX.X.X-linux-x64.deb`
3. CentOS/RHEL: `sudo rpm -ivh deck-vX.X.X-linux-x64.rpm`
4. æˆ–é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼ˆå¦‚ aptã€yumï¼‰
5. éªŒè¯å®‰è£…ï¼š`deck --help`
6. å¸è½½æ–¹æ³•ï¼šç»ˆç«¯æ‰§è¡Œå‘½ä»¤`rm -rf /usr/local/bin/deck`

### é€šè¿‡æºç æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-org/deck-dotnet.git
cd deck-dotnet

# macOS æ„å»º
./scripts/build.sh # å¦‚æœæ˜¯ Windows æ‰§è¡Œï¼š./scripts/build.ps1

# macOS æ‰“åŒ…
./scripts/package.sh # å¦‚æœæ˜¯ Windows æ‰§è¡Œï¼š./scripts/package.ps1
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–é¡¹ç›®

```bash
# å‡å¦‚è¿˜æ²¡æœ‰é¡¹ç›®ç›®å½•ï¼Œåˆ™åˆ›å»º
# åœ¨ç»ˆç«¯åº”ç”¨æ‰§è¡Œå‘½ä»¤æˆ–æ‰‹å·¥åˆ›å»ºé¡¹ç›®ç›®å½•
# åœ¨å®¿ä¸»æœºåˆ›å»ºï¼ˆä¸æ˜¯å®¹å™¨å†…ï¼‰
mkdir my-project
```
```bash
# åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤è¿›å…¥é¡¹ç›®ç›®å½•
cd my-project
```

### 2. é€‰æ‹©å¼€å‘ç¯å¢ƒ
> æ³¨æ„ï¼šdeck start å‘½ä»¤å¿…é¡»åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆmy-projectï¼‰æ¯”å¦‚ `weichat/`ä¸‹è¿è¡Œï¼Œå› ä¸ºå®ƒä¼šè‡ªåŠ¨åˆ›å»º .deck ç›®å½•ï¼Œå¹¶è‡ªåŠ¨æŠŠæ ¹ç›®å½•æŒ‚åœ¨åˆ°å®¹å™¨çš„ workspace
```bash
# åœ¨ç»ˆç«¯åº”ç”¨æ‰§è¡Œå‘½ä»¤å¯åŠ¨äº¤äº’å¼ç¯å¢ƒé€‰æ‹©
deck start

# æˆ–ç›´æ¥æŒ‡å®šç¯å¢ƒæ¨¡æ¿
# æˆ‘ä»¬è¦æ±‚çš„æ¨¡æ¿å‘½åæ˜¯`xx-yy`ï¼Œå¦‚`avalonia-default`ï¼Œå‘½ä»¤ä¼šè‡ªåŠ¨å–å‰ç¼€xxï¼Œå®ƒçš„ä½œç”¨æ˜¯ç­›é€‰ï¼Œå½“å‰ç¼€æ²¡æœ‰å‘½ä¸­ï¼Œä¼šæ˜¾ç¤ºæ‰€æœ‰æ¨¡æ¿
deck start nodejs
deck start python
deck start golang
```


## ğŸ“š ä½¿ç”¨æŒ‡å—

### å®¹å™¨ä¸é•œåƒæ¦‚å¿µ

- **é•œåƒï¼ˆImageï¼‰**: é™æ€çš„åº”ç”¨æ¨¡æ¿ï¼Œç±»ä¼¼äº"å…‰ç›˜é•œåƒ"
- **å®¹å™¨ï¼ˆContainerï¼‰**: é•œåƒçš„è¿è¡Œå®ä¾‹ï¼Œç±»ä¼¼äº"æ­£åœ¨è¿è¡Œçš„ç¨‹åº"
- **å…³ç³»**: ä¸€ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ï¼Œåˆ é™¤é•œåƒå‰éœ€è¦å…ˆå¤„ç†æ‰€æœ‰ç›¸å…³å®¹å™¨

**podman å‘½ä»¤ï¼š**
> start å‘½ä»¤ä¼šè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦å·²å®‰è£… podmanï¼Œæ²¡æœ‰åˆ™è‡ªåŠ¨å®‰è£…ã€‚æ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®‰è£… podmanã€‚
```bash
# å®¹å™¨æ“ä½œï¼ˆæ“ä½œè¿è¡Œå®ä¾‹ï¼‰
podman ps -a                      # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆè¿è¡Œä¸­+å·²åœæ­¢ï¼‰
podman stop [CONTAINER-name/ID]        # åœæ­¢å®¹å™¨
podman rm [CONTAINER-name/ID]          # åˆ é™¤å®¹å™¨

# é•œåƒæ“ä½œï¼ˆæ“ä½œé™æ€æ¨¡æ¿ï¼‰
podman images                     # æŸ¥çœ‹æ‰€æœ‰é•œåƒ
podman rmi [IMAGE-name/ID]        # åˆ é™¤é•œåƒï¼ˆéœ€è¦å…ˆåˆ é™¤ç›¸å…³å®¹å™¨ï¼‰
podman build -t [IMAGE-NAME] .    # æ„å»ºé•œåƒ
```

### åŸºæœ¬æ¦‚å¿µ

- **deck**: å‘½ä»¤è¡Œå·¥å…·åç§°
- **åˆ›å»º.deckç›®å½•**: åœ¨æ‚¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ `deck start` å‘½ä»¤ï¼Œè‡ªåŠ¨åˆ›å»º `.deck` ç›®å½•ç»“æ„
- **ç›®å½•ç»“æ„**: .deck/Images|Custom|Templatesï½œconfig.json
- **Templates**: æ¨¡æ¿ç›®å½•ï¼ˆåªè¯»ï¼‰ï¼Œæ¯æ¬¡æ‰§è¡Œ start å‘½ä»¤æ—¶è‡ªåŠ¨è¦†ç›–å¼æ›´æ–°ï¼Œå¯é€šè¿‡ config.json é…ç½®è‡ªå®šä¹‰æ¨¡æ¿ä»“åº“URL
- **Custom**: ç”¨æˆ·è‡ªå®šä¹‰é…ç½®ç›®å½•ï¼ˆå¯ç¼–è¾‘ï¼‰ï¼Œstart å‘½ä»¤è‡ªåŠ¨ä» Templates å¤åˆ¶ï¼ˆæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼Œæ ¼å¼éœ€ä¸ Templates ä¿æŒä¸€è‡´ï¼Œå¦‚`avalonia-desktop-zhangsan/.env|compose.yaml|Dockerfile|README.md`ï¼Œæ¯”å¦‚ä½ åœ¨è®¾è®¡ä¸€ä¸ªæ¨¡æ¿æˆ–ä¿®æ”¹ä¸€ä¸ªæ¨¡æ¿æ—¶ï¼‰
- **Images**: æ„å»ºè®°å½•ç›®å½•ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰ï¼Œç›®å½•åä¸é•œåƒå’Œå®¹å™¨åç›¸åŒï¼Œå‘½ä»¤ä¼šæŒ‰è¿™ä¸ªç›®å½•åå»æ‰¾é•œåƒå’Œå®¹å™¨ï¼Œæ‰€ä»¥ç›®å½•åä¸å¯ä¿®æ”¹ï¼Œå®ƒçš„å¦å¤–ä¸€ä¸ªä½œç”¨æ—¶ä¿å­˜å·²æ„å»ºçš„é•œåƒé…ç½®ï¼Œè¿™æ ·æ‰çŸ¥é“è¿™ä¸ªé•œåƒéƒ½æ˜¯ä»€ä¹ˆé…ç½®ï¼Œç”±startå‘½ä»¤è‡ªåŠ¨ç®¡ç†ï¼ˆä¸è¿‡.env æ–‡ä»¶çš„è¿è¡Œæ—¶å˜é‡éƒ¨åˆ†å¯ä»¥åœ¨å¯åŠ¨å®¹å™¨å‰ä¿®æ”¹ï¼‰
- **config.json**: é…ç½®æ–‡ä»¶ï¼Œç”¨äºé…ç½®è¿œç¨‹æ¨¡æ¿ä»“åº“ URL

### deck start å‘½ä»¤çš„äº¤äº’å¼é€‰é¡¹
> è¾“å…¥ç¯å¢ƒåºå·æ—¶ï¼Œå‘½ä»¤ä¼šåˆ¤æ–­è¿™ä¸ªåºå·å±äºå“ªä¸ªé…ç½®ç›®å½•ï¼ˆimages|custom|templates ä¸‰ç±»é…ç½®ï¼‰è¿›å…¥å¯¹åº”çš„æµç¨‹ã€‚
- **é€‰æ‹©çš„æ˜¯ Images é…ç½®** â†’ æ™ºèƒ½å®¹å™¨ç®¡ç†ï¼ˆæ£€æµ‹å®¹å™¨è¿è¡ŒçŠ¶æ€å¹¶å¤„ç†ï¼Œä¸ä¼šæ„å»ºé•œåƒï¼‰
- **é€‰æ‹©çš„æ˜¯ Custom é…ç½®** â†’ ä½¿ç”¨é€‰ä¸­çš„é…ç½®æ„å»ºæ–°é•œåƒï¼ˆä» Custom ç›®å½•å¤åˆ¶é…ç½®åˆ° Images ç›®å½•ï¼Œå¹¶è‡ªåŠ¨é‡å‘½åï¼Œå¹¶æ„å»ºé•œåƒï¼Œå¯åŠ¨å®¹å™¨ï¼‰
- **é€‰æ‹©çš„æ˜¯ Templates é…ç½®** â†’ åŒå·¥ä½œæµç¨‹ï¼Œè¿›è¡ŒäºŒæ¬¡é€‰æ‹©ï¼š
  1. åˆ›å»ºå¯ç¼–è¾‘é…ç½®ï¼ˆé€‰æ‹©è¿™ä¸ªï¼Œå°†æ‰§è¡Œä» Templates ç›®å½•å¤åˆ¶é…ç½®åˆ° Custom ç›®å½•ï¼Œç»ˆæ­¢å‘½ä»¤ç­‰å¾…ç¼–è¾‘ï¼Œæ‚¨éœ€è¦æ‰“å¼€è¿™ä¸ªç›®å½•çš„æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼Œä¹‹åé‡æ–°æ‰§è¡Œ deck start å‘½ä»¤ï¼Œè¿™æ¬¡ä½ è¾“å…¥çš„åºå·éœ€è¦çœ‹æ˜¯ä½ åˆšä¿®æ”¹çš„è¿™ä¸ªé…ç½®çš„åºå·ï¼‰
  2. ç›´æ¥æ„å»ºå¯åŠ¨ï¼ˆå¦‚æœä½ é€‰æ‹©çš„æ˜¯è¿™ä¸ªï¼Œå°†æ‰§è¡Œä»Templates ç›®å½•å¤åˆ¶é…ç½®åˆ° Custom ç›®å½•ï¼Œå¹¶ç«‹å³åˆä» customå¤åˆ¶åˆ° Images ç›®å½•ï¼Œå¹¶ç«‹å³å¼€å§‹æ„å»ºé•œåƒï¼Œå¯åŠ¨å®¹å™¨ï¼‰

### deck å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹å¸®åŠ©
deck --help
deck <command> --help             # å¦‚ deck stat --help
# ç³»ç»Ÿç®¡ç†
deck doctor                       # ç³»ç»Ÿè¯Šæ–­
deck clean                        # æ™ºèƒ½æ¸…ç†ï¼ˆä¸‰å±‚é…ç½®é€‰æ‹©ï¼šImages/Custom/Templatesï¼‰

# ç¯å¢ƒç®¡ç†
deck start [env-type]             # å‚æ•°å¯ä¸ºç©ºï¼Œä¸ºç©ºæ—¶åˆ—å‡ºæ‰€æœ‰æŠ€æœ¯æ ˆçš„é…ç½®
deck stop [CONTAINER-NAME/ID]     # åœæ­¢æŒ‡å®šå®¹å™¨ï¼ˆæ— å®¹å™¨IDæ—¶æ˜¾ç¤ºäº¤äº’å¼åˆ—è¡¨ï¼Œå¯ä»¥è¾“å…¥åºå·é€‰æ‹©ï¼‰
deck restart [CONTAINER-NAME/ID]  # é‡å¯æŒ‡å®šå®¹å™¨ï¼ˆæ— å®¹å™¨IDæ—¶æ˜¾ç¤ºäº¤äº’å¼åˆ—è¡¨ï¼Œå¯ä»¥è¾“å…¥åºå·é€‰æ‹©ï¼‰
deck logs [CONTAINER-NAME/ID] [-f] # æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼ˆæ— å®¹å™¨IDæ—¶æ˜¾ç¤ºäº¤äº’å¼åˆ—è¡¨ï¼Œå¯ä»¥è¾“å…¥åºå·é€‰æ‹©ï¼‰
deck shell [CONTAINER-NAME/ID]    # è¿›å…¥å®¹å™¨shellï¼ˆæ— å®¹å™¨IDæ—¶æ˜¾ç¤ºäº¤äº’å¼åˆ—è¡¨ï¼‰
deck ps                           # æ˜¾ç¤ºå½“å‰é¡¹ç›®ç›¸å…³å®¹å™¨
deck rm [CONTAINER-NAME/ID]       # åˆ é™¤å®¹å™¨ï¼ˆæ— å®¹å™¨IDæ—¶æ˜¾ç¤ºäº¤äº’å¼åˆ—è¡¨ï¼Œå¯ä»¥è¾“å…¥åºå·é€‰æ‹©ï¼‰

# é…ç½®ç®¡ç†


# é•œåƒä¸‰å±‚ç®¡ç†ï¼ˆä¼˜åŒ–ï¼šç»Ÿä¸€ç®¡ç†Decké…ç½®+Podmané•œåƒ+å®¹å™¨ï¼‰
deck images list                  # åˆ†ç±»åˆ—å‡ºï¼ˆç±»ä¼¼start åˆ—å‡ºå¯é€‰ç¯å¢ƒé‚£ç§æ•ˆæœï¼‰ï¼šimages ç›®å½•çš„æ‰€æœ‰ç›®å½•çš„ç›®å½•å+Podmanä¸è¿™äº›ç›®å½•åç›¸åŒçš„é•œåƒ+ä¸è¿™äº›ç›®å½•åç›¸åŒçš„å®¹å™¨
deck images clean                 # ä¸‰å±‚ç»Ÿä¸€æ¸…ç†ï¼ˆåˆ—å‡ºæ‰€æœ‰å¯é€‰çš„imagesç›®å½•çš„ç›®å½•åï¼Œè¾“å…¥éœ€è¦æ¸…ç†çš„åºå·ï¼Œè®©ç”¨æˆ·è¾“å…¥y/n ç¡®è®¤ï¼Œä¸€æ¬¡æ€§æ¸…ç†ä¸ç›®å½•åç›¸åŒçš„å®¹å™¨ï¼Œé•œåƒï¼Œé…ç½®ç›®å½•ï¼‰
deck images info [TARGET]         # æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ˆæ— targetæ—¶ä¸‰å±‚äº¤äº’å¼é€‰æ‹©ï¼‰
deck images help                  # æ˜¾ç¤º images å‘½ä»¤çš„è¯´æ˜

# è‡ªå®šä¹‰é…ç½®ç®¡ç†
deck custom list                  # åˆ—å‡ºcustomç›®å½•ä¸‹æ‰€æœ‰é…ç½®ç›®å½•çš„ç›®å½•å(ç­‰ä»· ls)
deck custom clean                 # æ¸…ç†è‡ªå®šä¹‰é…ç½®ç›®å½•ï¼ˆäº¤äº’å¼é€‰æ‹©,ï¼Œå¯ä»¥è¾“å…¥åºå·é€‰æ‹©ï¼‰

# æ¨¡æ¿ç®¡ç†
deck templates list               # åˆ—å‡ºtemplates ç›®å½•ä¸‹çš„ç›®å½•çš„ç›®å½•åï¼ˆä¹Ÿå°±æ—¶é…ç½®åï¼‰
deck templates update             # ä»ä»“åº“æ›´æ–°æ¨¡æ¿ï¼ˆè¦†ç›–å¼ï¼‰
deck templates clean              # æç¤ºä½¿ç”¨updateæ›¿ä»£ï¼ˆtemplatesæ¯æ¬¡startè‡ªåŠ¨è¦†ç›–ï¼Œæ‰€ä»¥æ¸…ç†æ„ä¹‰ä¸å¤§ï¼‰
```

**ğŸ¯ Deck .NETç‰ˆæœ¬ä¼˜åŒ–ç‰¹æ€§ï¼š**
- **äº¤äº’å¼é€‰æ‹©** - æ‰€æœ‰éœ€è¦å®¹å™¨å/é…ç½®åçš„å‘½ä»¤éƒ½æ”¯æŒæ— å‚æ•°äº¤äº’å¼é€‰æ‹©
- **ä¸‰å±‚ç»Ÿä¸€ç®¡ç†** - `deck images` ç³»åˆ—ç»Ÿä¸€ç®¡ç†Decké…ç½®+Podmané•œåƒ+å®¹å™¨
- **æ™ºèƒ½æ¸…ç†é€»è¾‘** - ä¸åŒå±‚çº§é€‰æ‹©å¯¹åº”ä¸åŒçš„æ¸…ç†ç­–ç•¥å’Œè­¦å‘Š
- **æ™ºèƒ½å‘½ä»¤å»ºè®®** - `deck templates clean` ä¼šæç¤ºæ›´åˆé€‚çš„æ›¿ä»£å‘½ä»¤
- **Podmanå‘½ä»¤æç¤º** - æ¯æ¬¡æ“ä½œåæ˜¾ç¤ºç­‰æ•ˆçš„Podmanå‘½ä»¤ï¼Œå¸®åŠ©å­¦ä¹ 
- **æ™ºèƒ½è¿‡æ»¤** - `deck ps` åªæ˜¾ç¤ºå½“å‰é¡¹ç›®ç›¸å…³å®¹å™¨ï¼Œé¿å…å¹²æ‰°
- **æ ‡å‡†å¹³å°åŒ…** - MSI/PKG/TAR.GZå®‰è£…ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®PATH

**âš ï¸ ç›¸æ¯”åŸç‰ˆDeck Shellå®ç°ï¼Œ.NETç‰ˆæœ¬æ”¾å¼ƒäº†ä»¥ä¸‹å‘½ä»¤ï¼š**
- `deck config create` - å»ºè®®ç›´æ¥ä»Templateså¤åˆ¶åˆ°Customç›®å½•æ‰‹åŠ¨ç¼–è¾‘
- `deck config edit` - å»ºè®®ä½¿ç”¨ç¼–è¾‘å™¨ç›´æ¥ç¼–è¾‘Customç›®å½•ä¸­çš„é…ç½®æ–‡ä»¶

### é…ç½®æ–‡ä»¶

Deck åœ¨é¡¹ç›®ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»º `.deck/config.json` é…ç½®æ–‡ä»¶ï¼Œurlå°†è¢«ç”¨äºåŒæ­¥æ¨¡æ¿ï¼š

```json
// .deck/config.json
{
  "remoteTemplates": {
    "repository": "https://gitee.com/zhaoquan/deck.git",
    "branch": "main",
    "cacheTtl": "24h",
    "autoUpdate": true
  }
}
```

**æ¨¡æ¿åŒæ­¥ç½‘ç»œé…ç½®ï¼š**
- Deck åªè´Ÿè´£æµ‹è¯•æ¨¡æ¿ä»“åº“çš„è¿æ¥æ€§ï¼ˆå¦‚ GitHubã€Giteeï¼‰
- å¦‚æœæ¨¡æ¿åŒæ­¥å¤±è´¥ï¼Œå·¥å…·ä¼šæä¾›ä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š
  1. æ£€æŸ¥ç½‘ç»œè¿æ¥
  2. æ‰‹åŠ¨ä¿®æ”¹ `.deck/config.json` æ›´æ¢ä»“åº“åœ°å€
  3. ä½¿ç”¨æœ¬åœ°æ¨¡æ¿ï¼ˆå¦‚æœå·²ä¸‹è½½ï¼‰
  4. åœ¨ `.deck/templates/` ç›®å½•ä¸‹æ‰‹åŠ¨åˆ›å»ºæ¨¡æ¿


**æ‚¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ .deck ç›®å½•ç»“æ„ï¼š**
> æ‰§è¡Œ deck start å‘½ä»¤åä¼šè‡ªåŠ¨åœ¨æ‰§è¡Œå‘½ä»¤çš„æ ¹ç›®å½•åˆ›å»º .deck ç›®å½•ï¼Œåé¢å¯åŠ¨å®¹å™¨æ—¶ï¼Œä¼šè‡ªåŠ¨æŠŠæ ¹ç›®å½•(è¿™é‡Œä¹Ÿå°±æ˜¯`your-project`)æŒ‚åœ¨åˆ°å®¹å™¨çš„ workspaceã€‚
```
your-project/
â””â”€â”€ .deck/                    # å·¥å…·ç®¡ç†ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
    â”œâ”€â”€ config.json           # é…ç½®æ–‡ä»¶
    â”œâ”€â”€ templates/            # è¿œç¨‹æ¨¡æ¿ï¼ˆåªè¯»ï¼Œè‡ªåŠ¨æ›´æ–°ï¼‰
    â”‚   â”œâ”€â”€ nodejs-default/
    â”‚   â”œâ”€â”€ python-default/
    â”‚   â””â”€â”€ golang-default/
    â”œâ”€â”€ custom/               # ç”¨æˆ·é…ç½®ï¼ˆå¯ç¼–è¾‘ï¼‰
    â”‚   â”œâ”€â”€ nodejs-customized/
    â”‚   â””â”€â”€ python-api/
    â””â”€â”€ images/               # æ„å»ºè®°å½•ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
        â”œâ”€â”€ nodejs-app-20250121-1430/
        â””â”€â”€ python-api-20250120-0920/
```

### æ™ºèƒ½æ¸…ç†åŠŸèƒ½è¯¦è§£

**ä¸»æ¸…ç†å‘½ä»¤ `deck clean`ï¼š**
```bash
$ deck clean
è¯·é€‰æ‹©è¦æ¸…ç†çš„ç±»å‹ï¼š

Images list:
1. nodejs-app-20250121-1430
2. python-api-20250120-0920

Custom list:
3. nodejs-customized
4. python-api

Templates list:
5. nodejs-default
6. python-default

è¯·è¾“å…¥åºå·ï¼ˆæˆ–æŒ‰Enterå–æ¶ˆï¼‰: 1
ä½ è¾“å…¥ç±»å‹æ˜¯é•œåƒï¼Œå°†åŒæ—¶æ¸…ç†imagesä¸‹çš„ç›®å½•ã€åŒåé•œåƒã€åŒåå®¹å™¨ï¼Œè¯·è°¨æ…æ“ä½œï¼Œç¡®è®¤åˆ é™¤ nodejs-app-20250121-1430ï¼Ÿ (y/n): y
```

**ä¸‰å±‚ç»Ÿä¸€ç®¡ç†ç¤ºä¾‹ï¼ˆ.NETç‰ˆæœ¬é‡è¦ä¼˜åŒ–ï¼‰ï¼š**

**`deck images list` - ä¸‰å±‚ç»Ÿä¸€å±•ç¤ºï¼š**
```bash
$ deck images list
å½“å‰é¡¹ç›®é•œåƒèµ„æºï¼š

Deck Imagesé…ç½® (.deck/images/)ï¼š
1. nodejs-app-20250121-1430 (æ„å»ºæ—¶é—´: 2025-01-21 14:30)
2. python-api-20250120-0920 (æ„å»ºæ—¶é—´: 2025-01-20 09:20)

Podman é•œåƒï¼š
3. localhost/nodejs-app-20250121-1430:latest (å¤§å°: 1.2GB)
4. localhost/python-api-20250120-0920:latest (å¤§å°: 856MB)

ç›¸å…³å®¹å™¨ï¼š
5. nodejs-app-20250121-1430-dev (è¿è¡Œä¸­) åŸºäºé•œåƒ#3-å¼€å‘[ID: a1b2c3d4]
6. nodejs-app-20250121-1430-test (å·²åœæ­¢) åŸºäºé•œåƒ#3-æµ‹è¯•[ID: e5f6g7h8]
7. nodejs-app-20250121-1430-prod (è¿è¡Œä¸­) åŸºäºé•œåƒ#3-ç”Ÿäº§ [ID: x9y8z7w6]

ğŸ’¡ éƒ¨åˆ†ç­‰æ•ˆPodmanå‘½ä»¤ï¼š
   cd .deck/images ls     # æŸ¥çœ‹images ç›®å½•ä¸‹çš„ç›®å½•å
   podman images          # æŸ¥çœ‹æ‰€æœ‰é•œåƒ
   podman ps -a           # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
```

**`deck images clean` - ä¸‰å±‚ç»Ÿä¸€æ¸…ç†ï¼š**
```bash
$ deck images clean
è¯·é€‰æ‹©è¦æ¸…ç†çš„ç›®æ ‡ï¼š

Deck Imagesé…ç½®ï¼š
1. nodejs-app-20250121-1430 é…ç½®ç›®å½•
2. python-api-20250120-0920 é…ç½®ç›®å½•

Podman é•œåƒï¼š
3. localhost/nodejs-app-20250121-1430:latest (1.2GB)
4. localhost/python-api-20250120-0920:latest (856MB)

ç›¸å…³å®¹å™¨ï¼š
5. nodejs-app-dev (è¿è¡Œä¸­) [ID: a1b2c3d4]
6. nodejs-app-test (å·²åœæ­¢) [ID: e5f6g7h8]
7. python-api-prod (è¿è¡Œä¸­) [ID: x9y8z7w6]

è¯·è¾“å…¥åºå·: 3

âš ï¸ è­¦å‘Šï¼šåˆ é™¤Podmané•œåƒå°†åŒæ­¥åˆ é™¤ä»¥ä¸‹å†…å®¹ï¼š
- å¦‚æœè¿™ä¸ªé•œåƒå¯¹åº”æœ‰ç”Ÿäº§å®¹å™¨ï¼Œå«æœªè¿è¡Œï¼ˆxx-prodï¼‰ï¼Œåˆ™è¿™ä¸ªå‘½ä»¤ç»ˆæ­¢ï¼Œå¼•å¯¼æé†’æœ‰ç”Ÿäº§å®¹å™¨ï¼Œè¶…çº§å±é™©æ“ä½œï¼Œè°¨æ…æ“ä½œï¼Œç¡®å®šåå‘Šè¯‰ç”¨ä»€ä¹ˆæ–¹å¼å…ˆåˆ é™¤ç”Ÿäº§å®¹å™¨
- é•œåƒï¼šlocalhost/nodejs-app-20250121-1430:latest
- ç›¸å…³å®¹å™¨ï¼šnodejs-app-20250121-1430-dev (è¿è¡Œä¸­), nodejs-app-20250121-1430-test (å·²åœæ­¢)ï¼Œ
- Decké…ç½®ï¼š.deck/images/nodejs-app-20250121-1430/

è¯·é€‰æ‹©æ¸…ç†æ–¹å¼ï¼š
1. å¼ºåˆ¶åˆ é™¤é•œåƒ+æ‰€æœ‰ç›¸å…³å®¹å™¨+Decké…ç½®ç›®å½•ï¼ˆæ— ç”Ÿäº§å®¹å™¨å«æœªè¿è¡Œï¼‰
2. åˆ é™¤é•œåƒ+å®¹å™¨+é…ç½®+æ„å»ºç¼“å­˜ï¼ˆâš ï¸ ä¸æ¨èï¼Œé‡å»ºéœ€é‡æ–°ä¸‹è½½ï¼Œæ— ç”Ÿäº§å®¹å™¨å«æœªè¿è¡Œï¼‰

è¯·è¾“å…¥é€‰é¡¹: 1
ç¡®è®¤åˆ é™¤ï¼Ÿè¿™å°†æ— æ³•æ’¤é”€ (y/n): y

æ­£åœ¨æ¸…ç†é•œåƒç›¸å…³èµ„æº...
âœ… å·²åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼šnodejs-app-20250121-1430-dev (a1b2c3d4)
âœ… å·²åˆ é™¤å®¹å™¨ï¼šnodejs-app-20250121-1430-test (e5f6g7h8)
âœ… å·²åˆ é™¤é•œåƒï¼šlocalhost/nodejs-app-20250121-1430:latest
âœ… å·²åˆ é™¤é…ç½®ç›®å½•ï¼š.deck/images/nodejs-app-20250121-1430/

ğŸ’¡ ç­‰æ•ˆPodmanå‘½ä»¤åºåˆ—ï¼š
   podman rm -f a1b2c3d4 e5f6g7h8
   podman rmi localhost/nodejs-app-20250121-1430:latest
```

**`deck templates clean` - æ™ºèƒ½æç¤ºæ›¿ä»£æ–¹æ¡ˆï¼š**
```bash
$ deck templates clean

ğŸ’¡ æç¤ºï¼šå‘½ä»¤å·²ç»ˆæ­¢ã€‚templates ç›®å½•æ¯æ¬¡æ‰§è¡Œ deck start æ—¶éƒ½ä¼šä»è¿œç¨‹ä»“åº“è‡ªåŠ¨è¦†ç›–æ›´æ–°ï¼Œæ¸…ç†æ— æ„ä¹‰ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›¿ä»£ï¼š
- deck templates update  # ç«‹å³ä»ä»“åº“æ›´æ–°æ¨¡æ¿
- deck start   # ä¼šè‡ªåŠ¨æ›´æ–°å¹¶ä½¿ç”¨æœ€æ–°æ¨¡æ¿
```

### äº¤äº’å¼é€‰æ‹©ä½“éªŒï¼ˆ.NETç‰ˆæœ¬ä¼˜åŒ–ï¼‰

**æ— å‚æ•°äº¤äº’å¼é€‰æ‹©ç¤ºä¾‹ï¼š**
```bash
$ deck stop

ğŸ’¡ æç¤ºï¼šæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ Podman å‘½ä»¤ï¼š
   podman stop a1b2c3d4    # åœæ­¢ nodejs-app-dev
   podman ps -a            # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨

è¯·é€‰æ‹©è¦åœæ­¢çš„å®¹å™¨ï¼š

å½“å‰é¡¹ç›®ç›¸å…³å®¹å™¨ï¼š
1. nodejs-app-20250121-1430-dev (è¿è¡Œä¸­) [ID: a1b2c3d4]
2. nodejs-app-20250121-1430-test (å·²åœæ­¢) [ID: e5f6g7h8]


è¯·è¾“å…¥åºå·ï¼ˆæˆ–æŒ‰ Enter å–æ¶ˆï¼‰: 1
æ­£åœ¨åœæ­¢å®¹å™¨ nodejs-app-20250121-1430-dev...
âœ… å·²åœæ­¢å®¹å™¨ nodejs-app-20250121-1430-dev (a1b2c3d4)

ç­‰æ•ˆçš„ Podman å‘½ä»¤ï¼špodman stop a1b2c3d4
```

**æ™ºèƒ½é¡¹ç›®å®¹å™¨è¿‡æ»¤ï¼š**
```bash
$ deck ps
ğŸ’¡ æç¤ºï¼šæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ Podman å‘½ä»¤ï¼š
ğŸ’¡ æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼špodman ps -a
ğŸ’¡ æŸ¥çœ‹ç³»ç»Ÿå®¹å™¨ï¼špodman ps -a --all

å½“å‰é¡¹ç›®ç›¸å…³å®¹å™¨ï¼š

è¿è¡Œä¸­ (2)ï¼š
- nodejs-app-20250121-1430-dev [ID: a1b2c3d4] è¿è¡Œæ—¶é—´: 2å°æ—¶
- nodejs-app-20250121-1430-prod [ID: e5f6g7h8] è¿è¡Œæ—¶é—´: 1å¤©

å·²åœæ­¢ (1)ï¼š  
- nodejs-app-20250121-1430-test [ID: x9y8z7w6] é€€å‡ºç : 0
```

## ğŸ› ï¸ ç³»ç»Ÿè¦æ±‚

- **å®¹å™¨å¼•æ“**: Docker æˆ– Podmanï¼ˆæ¨èï¼‰
- **æ“ä½œç³»ç»Ÿ**: 
  - Windows 10/11 (x64/ARM64)
  - macOS 10.15+ (Intel/Apple Silicon)
  - Linux (x64/ARM64)

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼

### å¼€å‘ç¯å¢ƒæ­å»º

```bash
# å…‹éš†ä»“åº“
git clone https://gitee.com/zhaoquan/deck.git # æˆ– git clone https://gitee.com/zhaoquan/deck.git
cd deck

# å®‰è£…ä¾èµ–
dotnet restore

# macOS æ„å»º
.scripts/build.sh # æˆ– Windows .scripts/build.ps1

# macOS æ‰“åŒ…
.scripts/package.sh # æˆ– Windows .scripts/package.ps1

# è¿è¡Œæµ‹è¯•
dotnet test

# è¿è¡Œå¼€å‘ç‰ˆæœ¬
dotnet run --project src/Deck.Console
```

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ Deck.Console/          # å‘½ä»¤è¡Œç•Œé¢
â”œâ”€â”€ Deck.Core/             # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ Deck.Services/         # ä¸šåŠ¡æœåŠ¡å±‚
â””â”€â”€ Deck.Infrastructure/   # åŸºç¡€è®¾æ–½å±‚
tests/
â”œâ”€â”€ Deck.Console.Tests/    # æ§åˆ¶å°æµ‹è¯•
â””â”€â”€ Deck.Services.Tests/   # æœåŠ¡å±‚æµ‹è¯•
```

## ğŸ“„ è®¸å¯è¯



## ğŸ”— ç›¸å…³é“¾æ¥

- [é—®é¢˜åé¦ˆ](https://gitee.com/zhaoquan/deck/issues)
- [è®¨è®ºåŒº](https://github.com/chatterzhao/deck/discussions)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼