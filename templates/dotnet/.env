# .NET 开发环境配置

# =============================================================================
# 构建时配置 (影响 Docker 镜像构建过程)
# =============================================================================

# 基础系统版本 (应该与 ubuntu 模板一致)
UBUNTU_VERSION=22.04
UBUNTU_NAME=2204

# Docker 镜像源配置 - 中国优化版本
# 基础镜像仓库地址 (影响 FROM 指令的镜像下载速度)
# 可用加速器（测试通过）:
# - docker.1ms.run（备选）
# - doublezonline.cloud（备选）
# - docker.m.daocloud.io（DaoCloud官方）
# - docker.io（Docker Hub原址，中国不可用或较慢）
# - DOCKER_REGISTRY=mcr.microsoft.com
DOCKER_REGISTRY=docker.1ms.run

# .NET 配置 - 构建时安装的版本
DOTNET_VERSION=9.0
DOTNET_VERSION_NAME=90
DOTNET_MAJOR_VERSION=9

# Git 版本
GIT_VERSION=latest

# 系统依赖包
DEPENDENCIES="curl git wget build-essential ca-certificates"

# =============================================================================
# 开发平台和工具配置 (可选安装)
# =============================================================================

# .NET Workloads 控制 (影响构建时间和镜像大小)
INSTALL_ANDROID_SUPPORT=false      # Android 开发支持
INSTALL_WASM_TOOLS=true            # WebAssembly 构建工具
INSTALL_WASM_EXPERIMENTAL=false    # WebAssembly 实验性功能
INSTALL_WASI_EXPERIMENTAL=false    # WASI 云端/边缘计算支持

# .NET 全局工具控制 (true/false)
INSTALL_DOTNET_WATCH=true          # 文件变化自动重载
INSTALL_DOTNET_FORMAT=true         # 代码格式化
INSTALL_DOTNET_EF=false            # Entity Framework 工具
INSTALL_DOTNET_OUTDATED=false      # NuGet 包更新检查
INSTALL_DOTNET_TRACE=false         # 性能分析工具
INSTALL_DOTNET_SERVE=false         # 静态文件服务器

# =============================================================================
# 运行时配置 (影响容器运行时行为)
# =============================================================================

# 开发服务端口
DEV_PORT=5000
DEBUG_PORT=9229
WEB_PORT=8080
HTTPS_PORT=8443

# 项目配置
PROJECT_NAME=dotnet
WORKSPACE_PATH=/workspace

# .NET 开发环境变量
DOTNET_ENVIRONMENT=Development
ASPNETCORE_ENVIRONMENT=Development
DOTNET_USE_POLLING_FILE_WATCHER=true
DOTNET_WATCH_RESTART_ON_RUDE_EDIT=true

# 调试配置
DOTNET_EnableDiagnostics=1
DOTNET_RUNNING_IN_CONTAINER=true

# NuGet 缓存配置
NUGET_PACKAGES=/opt/nuget-cache
DOTNET_CLI_HOME=/opt/dotnet-cache

# 容器资源限制
MEMORY_LIMIT=4g
CPU_LIMIT=2
SHM_SIZE=512m